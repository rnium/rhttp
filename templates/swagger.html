<!DOCTYPE html>
<html>

<head>
    <title>rHttp: Swagger UI</title>
    <link rel="stylesheet" href="https://unpkg.com/swagger-ui-dist/swagger-ui.css">
    <style>
        body {
            background-color: rgb(255, 255, 255) !important;
        }
    </style>
</head>

<body>
    <div class="img-container" style="position: fixed; bottom: 10px; right: 10px;">
        <img src="https://miro.medium.com/v2/resize:fit:1000/0*YISbBYJg5hkJGcQd.png" alt="rHttp Logo" width="100"
            height="100">
    </div>
    <div id="swagger-ui"></div>

    <script src="https://unpkg.com/swagger-ui-dist/swagger-ui-bundle.js"></script>
    <script>
        window.onload = () => {
            const ui = SwaggerUIBundle({
                url: "/swagger/openapi.yaml",
                dom_id: "#swagger-ui",
            });

            const imageUrl = "https://sirony.site/_next/static/media/index.3d45f640.svg";

            const insertOnce = () => {
                const title = document.querySelector("#swagger-ui h1.title");
                if (title && !document.getElementById("inserted-gopher-img")) {
                    const img = document.createElement("img");
                    img.src = imageUrl;
                    img.id = "inserted-gopher-img";
                    img.alt = "Gopher";
                    img.style.width = "48px";
                    img.style.height = "48px";
                    img.style.marginRight = "8px";
                    title.parentNode.insertBefore(img, title);
                    return true;
                }
                return false;
            };

            if (!insertOnce()) {
                const targetNode = document.getElementById("swagger-ui");
                if (targetNode) {
                    const observer = new MutationObserver((mutations, obs) => {
                        if (insertOnce()) obs.disconnect();
                    });
                    observer.observe(targetNode, { childList: true, subtree: true });
                }
            }
        };
    </script>
</body>

</html>